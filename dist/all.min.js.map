{"version":3,"sources":["dataBind.js","fiveColTwoRow.js","flash_purchase.js","home_hero_slide.js","imgLazyLozd.js","script.js"],"names":["search","DBind","DataBinder","object_id","pubSub","callbacks","on","msg","callback","this","push","publish","i","len","length","apply","arguments","data_attr","message","timeIn","changeHandler","evt","target","srcElement","prop_name","getAttribute","clearTimeout","setTimeout","value","document","addEventListener","attachEvent","new_val","tag_name","elements","querySelectorAll","tagName","toLowerCase","innerHTML","nextSibling","uid","binder","attributes","set","attr_name","val","get","_binder","fiveColTwoRow","part","amount","index","$","bind","event","id","reg","RegExp","match","num","slice","attr","myimg","getElementById","setAttribute","stopPropagation","targetTime","year","month","day","hour","minute","second","timecount","leftTime","Date","min","sec","html","parseInt","ready","setInterval","slideImg","obj","name","img","j","imgLazyLoad","lazyLoad","seeHeight","documentElement","clientHeight","window","innerHeight","scrollTop","pageYOffset","body","src","data_src","offsetTop","offsetHeight","throttle","delay","interval","now","timeout","canLazyLoad","old","onload","onscroll","obj0","flag","price","obj1","load","console","log"],"mappings":"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","file":"all.min.js","sourcesContent":["/**\n * \n * @authors LvHongbin (hblvsjtu@163.com)\n * @date    2018-07-18 23:28:32\n * @version v0.01\n */\n\nvar search = new DBind(\"search\");\n\n\nfunction DataBinder(object_id) {\n\t// 创建一个简单的pubSub对象\n\tlet pubSub = {\n\n\t\t\t// 执行多个回调函数\n\t\t\tcallbacks: {},\n\n\t\t\ton: function(msg, callback) {\n\t\t\t\tthis.callbacks[msg] = this.callbacks[msg] || [];\n\t\t\t\tthis.callbacks[msg].push(callback);\n\t\t\t},\n\t\t\tpublish: function(msg) {\n\t\t\t\tthis.callbacks[msg] = this.callbacks[msg] || [];\n\t\t\t\tfor (var i = 0, len = this.callbacks[msg].length; i < len; i++) {\n\t\t\t\t\tthis.callbacks[msg][i].apply(this, arguments);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdata_attr = \"data-bind-\" + object_id,\n\t\tmessage = object_id + \":input\",\n\t\ttimeIn;\n\n\tlet changeHandler = function(evt) {\n\t\tvar target = evt.target || evt.srcElement, // IE8兼容\n\t\t\tprop_name = target.getAttribute(data_attr);\n\n\t\tif (prop_name && prop_name !== \"\") {\n\t\t\tclearTimeout(timeIn);\n\t\t\ttimeIn = setTimeout(function() {\n\t\t\t\tpubSub.publish(message, prop_name, target.value);\n\t\t\t}, 50);\n\n\t\t}\n\t};\n\n\t// 监听事件变化，并代理到pubSub\n\tif (document.addEventListener) {\n\t\tdocument.addEventListener(\"input\", changeHandler, false);\n\t} else {\n\t\t// IE8使用attachEvent而不是addEventListenter\n\t\tdocument.attachEvent(\"oninput\", changeHandler);\n\t}\n\n\t// pubSub将变化传播到所有绑定元素\n\tpubSub.on(message, function(evt, prop_name, new_val) {\n\t\tvar elements = document.querySelectorAll(\"[\" + data_attr + \"=\" + prop_name + \"]\"),\n\t\t\ttag_name;\n\n\t\tfor (var i = 0, len = elements.length; i < len; i++) {\n\t\t\ttag_name = elements[i].tagName.toLowerCase();\n\n\t\t\tif (tag_name === \"input\" || tag_name === \"textarea\" || tag_name === \"select\") {\n\t\t\t\telements[i].value = new_val;\n\t\t\t} else {\n\t\t\t\telements[i].innerHTML = new_val;\n\t\t\t}\n\t\t\tlet length = elements[i].innerHTML.length;\n\t\t\tif (length == 0) {\n\t\t\t\telements[i].nextSibling.innerHTML = '';\n\t\t\t} else {\n\t\t\t\telements[i].nextSibling.innerHTML = `约有${length}件`;\n\t\t\t}\n\t\t}\n\t});\n\n\treturn pubSub;\n}\n\n\nfunction DBind(uid) {\n\tlet binder = new DataBinder(uid),\n\n\t\tuser = {\n\t\t\t// 属性设置器使用数据绑定器pubSub来发布\n\t\t\tattributes: {},\n\t\t\tset: function(attr_name, val) {\n\t\t\t\tthis.attributes[attr_name] = val;\n\t\t\t\t// Use the `publish` method\n\t\t\t\tbinder.publish(uid + \":input\", attr_name, val, this);\n\t\t\t},\n\t\t\tget: function(attr_name) {\n\t\t\t\treturn this.attributes[attr_name];\n\t\t\t},\n\n\t\t\t_binder: binder\n\t\t};\n\treturn user;\n}","/**\n * \n * @authors Lvhongbin (hblvsjtu@163.com)\n * @date    2018-07-15 21:41:09\n * @version V0.0.1\n */\n\nfunction fiveColTwoRow(part, amount, index) {\n\t$(`#${part}_select`).bind(\"mouseover\", (event) => {\n\t\tlet target = event.target.id;\n\t\tlet reg = new RegExp(`${part}_select` + \"\\\\d+\", \"g\");\n\t\tif (target.match(reg)) {\n\t\t\tlet num = target.slice(index);\n\t\t\tfor (let i = 0; i < amount; i++) {\n\t\t\t\tif (i != num) {\n\t\t\t\t\t$(`#${part}_select` + i).attr(\"style\", \"color: #424242; border-bottom: none;\");\n\t\t\t\t\t$(`#${part}_content` + i).attr(\"style\", \"display: none\");\n\t\t\t\t} else {\n\t\t\t\t\t$(`#${part}_select` + i).attr(\"style\", \"color: #ff6700;border-bottom: solid 1px #ff6700;\");\n\t\t\t\t\t$(`#${part}_content` + i).attr(\"style\", \"display: block\");\n\t\t\t\t\tlet myimg = document.getElementById(`${part}_content` + i).querySelectorAll(\"img\");\n\t\t\t\t\tlet length = myimg.length;\n\t\t\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\t\t\tmyimg[i].setAttribute(\"src\", myimg[i].getAttribute(\"data-src\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t}\n\t})\n}\n\n// home_elec_part\nfiveColTwoRow(\"home_elec\", 4, 16);\n\n// AI_part\nfiveColTwoRow(\"AI\", 5, 9);\n\n// match_part\nfiveColTwoRow(\"match\", 4, 12);\n\n// accessories_part\nfiveColTwoRow(\"accessories\", 4, 18);\n\n// around_part\nfiveColTwoRow(\"around\", 5, 13);","/**\n * \n * @authors Lvhongbin (hblvsjtu@163.com)\n * @date    2018-07-15 02:13:52\n * @version V0.0.1\n */\n\n$(\"#flash_purchase_left\").bind('click', () => {\n\t$(\"#flash_purchase_box_container\").attr(\"style\", \"transform: translateX(-492px)\");\n\t$(\"#flash_purchase_left\").attr(\"style\", \"opacity: 0.4\");\n\t$(\"#flash_purchase_right\").attr(\"style\", \"opacity: 1\");\n});\n\n$(\"#flash_purchase_right\").bind('click', () => {\n\t$(\"#flash_purchase_box_container\").attr(\"style\", \"transform: translateX(0)\");\n\t$(\"#flash_purchase_left\").attr(\"style\", \"opacity: 1\");\n\t$(\"#flash_purchase_right\").attr(\"style\", \"opacity: 0.4\");\n});\n\nvar targetTime = {\n\tyear: 2018,\n\tmonth: 7,\n\tday: 17,\n\thour: 22,\n\tminute: 0,\n\tsecond: 0\n}\n\nfunction timecount() {\n\tlet leftTime = (new Date(targetTime.year, targetTime.month - 1, targetTime.day, targetTime.hour, targetTime.minute, targetTime.second)) - (new Date()); //计算剩余的毫秒数\n\tleftTime /= 1000;\n\tlet hour = 0,\n\t\tmin = 0,\n\t\tsec = 0;\n\tif (leftTime <= 0 || leftTime >= 86400) {\n\t\t$(\"#flash_purchase_hour\").html(\"00\");\n\t\t$(\"#flash_purchase_min\").html(\"00\");\n\t\t$(\"#flash_purchase_sec\").html(\"00\");\n\t\tlet flash_purchase_targetTime = $(\"#flash_purchase_targetTime\");\n\t\tflash_purchase_targetTime.attr(\"style\", \"color: grey\");\n\t\treturn;\n\t} else {\n\t\thour = parseInt(leftTime / 3600);\n\t\tmin = parseInt((leftTime - 3600 * hour) / 60);\n\t\tsec = parseInt((leftTime - 3600 * hour - 60 * min));\n\t\thour = hour < 10 ? \"0\" + hour : hour;\n\t\tmin = min < 10 ? \"0\" + min : min;\n\t\tsec = sec < 10 ? \"0\" + sec : sec;\n\t\t$(\"#flash_purchase_hour\").html(hour);\n\t\t$(\"#flash_purchase_min\").html(min);\n\t\t$(\"#flash_purchase_sec\").html(sec);\n\t}\n}\n$(document).ready(() => {\n\tsetInterval(timecount, 1000);\n});","/**\n * \n * @authors Your Name (you@example.org)\n * @date    2018-07-13 21:08:38\n * @version $Id$\n */\n\n// home_hero_slide\nvar slideImg = [\"https://i1.mifile.cn/a4/xmad_15311087505587_ZrTIc.jpg\",\n\t\"https://i1.mifile.cn/a4/xmad_15312180684983_AIChl.jpg\",\n\t\"https://i1.mifile.cn/a4/xmad_15283359125436_gBSNq.jpg\",\n\t\"https://i1.mifile.cn/a4/xmad_15312182978122_eSDBf.jpg\",\n\t\"https://i1.mifile.cn/a4/xmad_1531019857613_pvXfL.jpg\",\n\t\"https://i1.mifile.cn/a4/xmad_15310599701167_AYcbi.jpg\"\n];\n\nvar obj = [{\n\tname: '小米手机8',\n\timg: \"https://i1.mifile.cn/f/i/g/2015/cn-index/6A320.png\"\n}, {\n\tname: '小米电视4 75英寸\"',\n\timg: \"https://i1.mifile.cn/f/i/2014/cn/icon/icon-slides.png\"\n}, {\n\tname: '笔记本Pro 15.6\"',\n\timg: \"https://i1.mifile.cn/f/i/g/2015/cn-index/WechatIMG603.png\"\n}, {\n\tname: '米家电饭煲',\n\timg: \"https://i1.mifile.cn/f/i/g/2015/cn-index/dfb.jpg\"\n}, {\n\tname: '智能灯泡',\n\timg: \"https://i1.mifile.cn/a1/pms_1496647119.81414190!220x220.jpg\"\n}]\n\nvar i = 0;\nsetInterval(function() {\n\ti = i == 6 ? 0 : i;\n\tfor (let j = 0; j < 6; j++) {\n\t\tif (j == i) {\n\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: white; border-color: rgba(0,0,0,0.6);\");\n\t\t} else {\n\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: rgba(0,0,0,0.6); border-color: rgba(255,255,255,0.3);\");\n\t\t}\n\t}\n\t$(\"#slideImg\").attr(\"src\", slideImg[i]);\n\n\ti++;\n}, 10000);\n\n$(\".spot\").bind(\"click\", function(event) {\n\tlet num = event.target.id.slice(4);\n\tif (num) {\n\t\tfor (let i = 0; i < 6; i++) {\n\t\t\tif (i == num) {\n\t\t\t\t$(\"#slideImg\").attr(\"src\", slideImg[i]);\n\t\t\t\tfor (let j = 0; j < 6; j++) {\n\t\t\t\t\tif (j == i) {\n\t\t\t\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: white; border-color: rgba(0,0,0,0.6);\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: rgba(0,0,0,0.6); border-color: rgba(255,255,255,0.3);\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t}\n\t}\n})\n\n$(\".arrayLeft\").bind(\"click\", function() {\n\ti = i - 1 == -1 ? 5 : i - 1;\n\t$(\"#slideImg\").attr(\"src\", slideImg[i]);\n\tfor (let j = 0; j < 6; j++) {\n\t\tif (j == i) {\n\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: white; border-color: rgba(0,0,0,0.6);\");\n\t\t} else {\n\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: rgba(0,0,0,0.6); border-color: rgba(255,255,255,0.3);\");\n\t\t}\n\t}\n});\n\n$(\".arrayRight\").bind(\"click\", function() {\n\ti = i + 1 == 6 ? 0 : i + 1;\n\t$(\"#slideImg\").attr(\"src\", slideImg[i]);\n\tfor (let j = 0; j < 6; j++) {\n\t\tif (j == i) {\n\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: white; border-color: rgba(0,0,0,0.6);\");\n\t\t} else {\n\t\t\t$(\"#spot\" + j).attr(\"style\", \"background: rgba(0,0,0,0.6); border-color: rgba(255,255,255,0.3);\");\n\t\t}\n\t}\n});\n\n$(\"#home_hero_slide_nav\").bind(\"mouseover\", function(event) {\n\t$(\"#home_hero_slide_aside\").attr(\"style\", \"visibility: visible;\");\n\tlet id = event.target.id;\n\tlet num = id.slice(22);\n\tif (id.match(/home_hero_slide_nav_li\\d+/)) {\n\t\tfor (let i = 0; i < 24; i++) {\n\t\t\t$(\"#home_hero_slide_aside_i\" + i).attr(\"style\", `background: url(${obj[num%5].img}) no-repeat center; background-size: contain;`);\n\t\t\t$(\"#home_hero_slide_aside_span\" + i).html(obj[num % 5].name);\n\t\t}\n\t\tevent.stopPropagation;\n\t}\n});\n$(\"#home_hero_slide_nav\").bind(\"mouseleave\", function() {\n\t$(\"#home_hero_slide_aside\").attr(\"style\", \"visibility: hidden;\");\n});\n\n// 这里不能使用mouseout，因为这个表示只要一离开他某一个子元素就会被触发，即是你是从一个子元素到另一个子元素；\n$(\"#home_hero_slide_aside\").bind(\"mouseleave\", function() {\n\t$(\"#home_hero_slide_aside\").attr(\"style\", \"visibility: hidden;\");\n});\n\n$(\"#home_hero_slide_aside\").bind(\"mouseover\", function() {\n\t$(\"#home_hero_slide_aside\").attr(\"style\", \"visibility: visible;\");\n});","/**\n * \n * @authors LvHongbin (hblvsjtu@163.com)\n * @date    2018-07-17 02:44:04\n * @version v0.01\n */\n\nvar imgLazyLoad = document.querySelectorAll('img');\n\nfunction lazyLoad(imgLazyLoad) {\n    //document.documentElement.clientHeight是屏幕可视区域的高度，不包括滚动条跟工具条的高度。而window.innerHeight获得的是可视区域的高度，同时包括横向滚动条的高度。(IE8以及低版本浏览器不支持)。\n    let seeHeight = document.documentElement.clientHeight || window.innerHeight;\n\n    // 1、各浏览器下 scrollTop的差异 \n    // IE6/7/8： \n    // 对于没有doctype声明的页面里可以使用  document.body.scrollTop 来获取 scrollTop高度 ； \n    // 对于有doctype声明的页面则可以使用 document.documentElement.scrollTop； \n    // Safari: \n    // safari 比较特别，有自己获取scrollTop的函数 ： window.pageYOffset ； \n    // Firefox: \n    // 火狐等等相对标准些的浏览器就省心多了，直接用 document.documentElement.scrollTop ； \n    // 2、获取scrollTop值 \n    // 完美的获取scrollTop 赋值短语 ： \n    // var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    // 通过这句赋值就能在任何情况下获得scrollTop 值。 \n    let scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;\n    // ie不支持forEach方法\n    let length = imgLazyLoad.length;\n    for (let i = 0; i < length; i++) {\n        let src = imgLazyLoad[i].getAttribute('src');\n        let data_src = imgLazyLoad[i].getAttribute('data-src');\n        if (src == '' && data_src != \"\" &&\n            (imgLazyLoad[i].offsetTop < seeHeight + scrollTop && imgLazyLoad[i].offsetTop + imgLazyLoad[i].offsetHeight > scrollTop)) {\n            imgLazyLoad[i].src = data_src;\n        }\n    }\n}\nlazyLoad(imgLazyLoad);\n\n// 这里有一个坑，一定要让onload之后才能进行操作，否则没有渲染完成无法进行懒加载；\nwindow.onload = window.onscroll = throttle(500, 1000);\n\nfunction throttle(delay, interval) {\n    var canLazyLoad = true; // 添加节流模式\n    var now;\n    var old = new Date();\n    var timeout;\n    return function() {\n        now = new Date();\n        // 防抖动\n        if (now - old < delay) {\n            clearTimeout(timeout);\n            old = now;\n        } else {\n            if (canLazyLoad) {\n                canLazyLoad = false;\n                timeout = setTimeout(() => {\n                    lazyLoad(imgLazyLoad);\n                    canLazyLoad = true;\n                    old = now;\n                }, interval);\n            }\n        }\n    }\n}","/**\n * \n * @authors Lvhongbin (hblvsjtu@163.com)\n * @date    2018-07-12 09:29:54\n * @version V0.0.1\n */\n\n// nav_menu\n\nvar obj0 = [{\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1527684990.93616987!220x220.jpg',\n\tname: \"小米8\",\n\tprice: \"500元\"\n}, {\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1522034061.12391230!220x220.jpg',\n\tname: \"小米mix\",\n\tprice: \"1000元\"\n}, {\n\tflag: false,\n\timg: 'https://i1.mifile.cn/a1/pms_1527144859.25489991!220x220.jpg',\n\tname: \"小米mix X2\",\n\tprice: \"1500元\"\n}, {\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1495692033.10494295!220x220.jpg',\n\tname: \"红米plus\",\n\tprice: \"2000元\"\n}, {\n\tflag: false,\n\timg: 'https://i1.mifile.cn/a1/pms_1509723483.31416776!220x220.jpg',\n\tname: \"红米8\",\n\tprice: \"2500元\"\n}, {\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1525853341.8312102!220x220.jpg',\n\tname: \"小米7s\",\n\tprice: \"3000元\"\n}]\n\nvar obj1 = [{\n\tflag: false,\n\timg: 'https://i1.mifile.cn/a1/pms_1509723483.31416776!220x220.jpg',\n\tname: \"小米7s\",\n\tprice: \"3000元\"\n}, {\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1495692033.10494295!220x220.jpg',\n\tname: \"红米8\",\n\tprice: \"2500元\"\n}, {\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1527144859.25489991!220x220.jpg',\n\tname: \"红米plus\",\n\tprice: \"2000元\"\n}, {\n\tflag: false,\n\timg: 'https://i1.mifile.cn/a1/pms_1525853341.8312102!220x220.jpg',\n\tname: \"小米mix\",\n\tprice: \"1500元\"\n}, {\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1522034061.12391230!220x220.jpg',\n\tname: \"小米mix X2\",\n\tprice: \"1000元\"\n}, {\n\tflag: true,\n\timg: 'https://i1.mifile.cn/a1/pms_1527684990.93616987!220x220.jpg',\n\tname: \"小米8\",\n\tprice: \"500元\"\n}]\n\n\n$(\"#site_middle\").bind(\"mouseover\", function(event) {\n\tlet id = event.target.id;\n\tlet num = id.slice(11);\n\tconsole.log(id, num);\n\n\tfunction load(obj) {\n\t\tfor (let i = 0; i < 6; i++) {\n\t\t\tif (obj[i].flag === true) $(\"#nav_menu_flag\" + i).attr(\"style\", \"visibility: visible\");\n\t\t\telse $(\"#nav_menu_flag\" + i).attr(\"style\", \"visibility: hidden\");\n\t\t\t$(\"#nav_menu_img\" + i).attr(\"style\", `background: url(${obj[i].img}) no-repeat center; background-size: contain;`);\n\t\t\t$(\"#nav_menu_name\" + i).html(obj[i].name);\n\t\t\t$(\"#nav_menu_price\" + i).html(obj[i].price);\n\t\t}\n\t}\n\tif (id.match(/^site_middle\\d+/)) {\n\t\tconsole.log(\"match\");\n\t\t$(\"#nav_menu\").attr(\"style\", \"clip: rect(0, 2000px, 241px, 0)\");\n\t\tif (num % 2 == 0) load(obj0);\n\t\telse load(obj1);\n\t}\n});\n\n\n$(\"#nav_menu\").bind(\"mouseleave\", function() {\n\t$(\"#nav_menu\").attr(\"style\", \"clip: rect(0, 2000px, 0, 0)\");\n});"]}